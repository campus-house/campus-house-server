<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>캠퍼스 하우스 API - Swagger.io 온라인 뷰어</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .swagger-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fafafa;
        }
        .swagger-section h2 {
            color: #2c3e50;
            margin-top: 0;
        }
        .swagger-link {
            text-align: center;
            margin: 30px 0;
        }
        .swagger-link a {
            display: inline-block;
            background-color: #85c1e9;
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 8px;
            font-weight: bold;
            font-size: 18px;
            transition: background-color 0.3s;
            margin: 10px;
        }
        .swagger-link a:hover {
            background-color: #5dade2;
        }
        .instructions {
            background-color: #e8f4fd;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            margin: 20px 0;
        }
        .instructions h3 {
            color: #2c3e50;
            margin-top: 0;
        }
        .instructions ol {
            margin: 10px 0;
            padding-left: 20px;
        }
        .instructions li {
            margin: 8px 0;
        }
        .code-block {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        .highlight {
            background-color: #f39c12;
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }
        .api-info {
            background-color: #d5f4e6;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #27ae60;
            margin: 20px 0;
        }
        .api-info h3 {
            color: #27ae60;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🏠 캠퍼스 하우스 API - Swagger.io 온라인 뷰어</h1>
        
        <div class="api-info">
            <h3>📋 API 정보</h3>
            <p><strong>제목:</strong> 캠퍼스 하우스 API</p>
            <p><strong>설명:</strong> 대학생 자취 커뮤니티 앱의 백엔드 API 문서</p>
            <p><strong>버전:</strong> 1.0.0</p>
            <p><strong>서버:</strong> http://localhost:8080</p>
        </div>

        <div class="swagger-section">
            <h2>🌐 Swagger.io 온라인 뷰어에서 API 문서 보기</h2>
            
            <div class="instructions">
                <h3>📖 사용 방법</h3>
                <ol>
                    <li>아래 버튼을 클릭하여 <strong>Swagger.io 온라인 뷰어</strong>로 이동</li>
                    <li>OpenAPI 스펙 URL을 입력하거나 직접 붙여넣기</li>
                    <li>API 문서를 온라인에서 확인하고 테스트</li>
                </ol>
            </div>

            <div class="swagger-link">
                <a href="https://editor.swagger.io/" target="_blank">🚀 Swagger.io 온라인 에디터 열기</a>
            </div>

            <div class="instructions">
                <h3>📝 OpenAPI 스펙 URL</h3>
                <p>서버가 실행 중일 때 다음 URL을 Swagger.io에 입력하세요:</p>
                <div class="code-block">
                    http://localhost:8080/v3/api-docs
                </div>
                
                <h3>📄 또는 YAML 파일 직접 사용</h3>
                <p>서버가 실행되지 않을 때는 다음 URL을 사용하세요:</p>
                <div class="code-block">
                    http://localhost:8080/openapi-spec.yaml
                </div>
            </div>
        </div>

        <div class="swagger-section">
            <h2>💬 채팅 API 엔드포인트</h2>
            
            <div class="instructions">
                <h3>🔐 인증</h3>
                <p>모든 채팅 API는 JWT 토큰 인증이 필요합니다.</p>
                <p>Authorization 헤더에 <span class="highlight">Bearer {JWT_TOKEN}</span> 형식으로 토큰을 포함해야 합니다.</p>
            </div>

            <h3>📋 API 목록</h3>
            <ul>
                <li><strong>POST</strong> <code>/api/chat/rooms</code> - 채팅방 생성/조회</li>
                <li><strong>GET</strong> <code>/api/chat/rooms/user/{userName}</code> - 사용자 채팅방 목록</li>
                <li><strong>GET</strong> <code>/api/chat/rooms/{roomId}</code> - 특정 채팅방 조회</li>
                <li><strong>GET</strong> <code>/api/chat/rooms/users/{user1Name}/{user2Name}</code> - 두 사용자 간 채팅방 조회</li>
                <li><strong>POST</strong> <code>/api/chat/rooms/{roomId}/messages</code> - 메시지 전송</li>
                <li><strong>GET</strong> <code>/api/chat/rooms/{roomId}/messages</code> - 메시지 목록 조회</li>
                <li><strong>POST</strong> <code>/api/chat/rooms/{roomId}/read</code> - 메시지 읽음 처리</li>
                <li><strong>GET</strong> <code>/api/chat/unread-count/{userName}</code> - 읽지 않은 메시지 수 조회</li>
                <li><strong>GET</strong> <code>/api/chat/rooms/{roomId}/unread-count/{userName}</code> - 특정 채팅방 읽지 않은 메시지 수</li>
            </ul>
        </div>

        <div class="swagger-section">
            <h2>🛠️ 로컬 Swagger UI</h2>
            
            <div class="swagger-link">
                <a href="/swagger-ui/index.html" target="_blank">📖 로컬 Swagger UI 열기</a>
                <a href="/swagger-test.html" target="_blank">📋 테스트 페이지 열기</a>
            </div>
        </div>

        <div class="swagger-section">
            <h2>📝 사용 예시</h2>
            
            <div class="instructions">
                <h3>1. 로그인하여 토큰 획득</h3>
                <div class="code-block">
POST /api/auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "password123"
}
                </div>

                <h3>2. 채팅방 생성/조회</h3>
                <div class="code-block">
POST /api/chat/rooms?otherUserName=홍길동
Authorization: Bearer {JWT_TOKEN}
                </div>

                <h3>3. 메시지 전송</h3>
                <div class="code-block">
POST /api/chat/rooms/1/messages
Authorization: Bearer {JWT_TOKEN}
Content-Type: application/json

{
  "content": "안녕하세요!",
  "messageType": "TEXT"
}
                </div>
            </div>
        </div>

        <div class="swagger-section">
            <h2>🔧 서버 상태 확인</h2>
            
            <div class="instructions">
                <h3>서버가 실행 중인지 확인</h3>
                <p>다음 URL들이 정상적으로 응답하는지 확인하세요:</p>
                <ul>
                    <li><a href="http://localhost:8080/actuator/health" target="_blank">http://localhost:8080/actuator/health</a> - 서버 상태</li>
                    <li><a href="http://localhost:8080/v3/api-docs" target="_blank">http://localhost:8080/v3/api-docs</a> - API 스펙 (JSON)</li>
                    <li><a href="http://localhost:8080/openapi-spec.yaml" target="_blank">http://localhost:8080/openapi-spec.yaml</a> - API 스펙 (YAML)</li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>
